!function(i){"use strict";function e(){this.language=i.i18n.languages[String.locale]||i.i18n.languages.default}e.prototype={constructor:e,emit:function(e,n){var r,t,a,u=this;switch(typeof e){case"string":case"number":r=e;break;case"object":if(t=i.map(e.slice(1),function(e){return u.emit(e,n)}),a=e[0].toLowerCase(),"function"!=typeof u[a])throw new Error('unknown operation "'+a+'"');r=u[a](t,n);break;case"undefined":r="";break;default:throw new Error("unexpected type in AST: "+typeof e)}return r},concat:function(e){var r="";return i.each(e,function(e,n){r+=n}),r},replace:function(e,n){var r=parseInt(e[0],10);return r<n.length?n[r]:"$"+(r+1)},plural:function(e){var n=parseFloat(this.language.convertNumber(e[0],10)),r=e.slice(1);return r.length?this.language.convertPlural(n,r):""},gender:function(e){var n=e[0],r=e.slice(1);return this.language.gender(n,r)},grammar:function(e){var n=e[0],r=e[1];return r&&n&&this.language.convertGrammar(r,n)}},i.extend(i.i18n.parser.emitter,new e)}(jQuery);
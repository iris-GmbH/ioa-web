function ajaxBegin(){$("#loginButton").prop("disabled",!0);$("#loginModal").show().animate({easing:"easeOutQuint",duration:300,queue:!0});$(".main").addClass("scale-to-background");$("#loginModal").animate({opacity:1},{duration:300,queue:!0})}function ajaxFailure(n){n.status===403?$("#connectFailedString").attr("data-i18n","$login_forbidden"):$("#connectFailedString").attr("data-i18n","$login_failed");updateText();$("#connectFailedCodeString").text("Code: "+n.status);$("#loginModal").hide().animate({opacity:0},{easing:"easeOutQuint",duration:0,queue:!0});$("#loginModalFailed").show().animate({easing:"easeOutQuint",duration:300,queue:!0});$("#loginModalFailed").animate({opacity:1},{duration:300,queue:!0})}function showLogin(){$(".main").removeClass("scale-to-background");$("#loginModalFailed").hide().animate({opacity:0},{easing:"easeOutQuint",duration:0,queue:!0});$("#connectFailedCodeString").text("");$("#loginButton").prop("disabled",!1)}function showModalMessage(n){var t=$("#mainModal");t.find(".modal-body").text(n);t.find(".modal-title").text($.i18n("$modal_messagetitle"));t.modal("show")}function updateText(){language=$(".language option:selected").val();var n=$.i18n();n.locale=language;n.load("/Content/locals/en.json","en").done(function(){n.load("/Content/locals/"+n.locale+".json",n.locale).done(function(){$("body").i18n();try{$(".fc-resetButton-button")[0].innerHTML=$.i18n("$mainapp_calendar_reset_button");$(".fc-resetButton-button").addClass("btn-crimson");console.log("Main UI loaded! (Lang: "+n.locale+")")}catch(t){console.log("Login Screen loaded! (Lang: "+n.locale+")")}})})}function cookieInit(){var n=window.navigator.languages?window.navigator.languages[0]:null,t,i;n=n||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage;n.indexOf("-")!==-1&&(n=n.split("-")[0]);n.indexOf("_")!==-1&&(n=n.split("_")[0]);t=Cookies.get("onAirWebLang");typeof t!="undefined"?$("#langSelect").selectpicker("val",t):(i=!1,$("#langSelect option").each(function(){$(this).val()===n&&(i=!0)}),i?Cookies.set("onAirWebLang",n,{expires:365}):Cookies.set("onAirWebLang","en",{expires:365}),$("#langSelect").selectpicker("val",Cookies.get("onAirWebLang")));$("#langSelect").val()===null&&$("#langSelect").val("en")}$(function(){console.log("Codename Yami - IRMA onAir Web");cookieInit();updateText();$(".language").on("change keyup",updateText);$("#langSelect").change(function(){Cookies.set("onAirWebLang",this.value,{expires:365})});$("#loginFailedButton").click(function(){showLogin()})});
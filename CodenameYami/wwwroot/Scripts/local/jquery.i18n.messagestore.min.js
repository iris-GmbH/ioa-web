(function(n){"use strict";function i(t){var i=n.Deferred();return n.getJSON(t).done(i.resolve).fail(function(r,u,f){n.i18n.log("Error in loading messages from "+t+" Exception: "+f);i.resolve()}),i.promise()}var t=function(){this.messages={};this.sources={}};t.prototype={load:function(t,r){var u=null,e=null,o=[],f=this;if(typeof t=="string")return n.i18n.log("Loading messages from: "+t),e=i(t).done(function(n){f.set(r,n)}),e.promise();if(r)return f.set(r,t),n.Deferred().resolve();for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&(r=u,o.push(f.load(t[u],r)));return n.when.apply(n,o)},set:function(t,i){this.messages[t]=this.messages[t]?n.extend(this.messages[t],i):i},get:function(n,t){return this.messages[n]&&this.messages[n][t]}};n.extend(n.i18n.messageStore,new t)})(jQuery,window);